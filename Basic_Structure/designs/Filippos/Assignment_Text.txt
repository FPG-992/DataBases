============Εκφώνηση============

Δημοφιλής διαγωνισμός μαγειρικής σας ζήτησε να σχεδιάσετε και να υλοποιήσετε ένα σύστημα
αποθήκευσης και διαχείρισης των πληροφοριών που απαιτούνται για τη λειτουργία του διαγωνισμού
αναφορικά με τις συνταγές, τα υλικά και τον εξοπλισμό που απαιτείται για την λειτουργία του
διαγωνισμού.

Μέσω της σχετικής εφαρμογής, επιθυμεί να χειριστεί συνταγές μαγειρικής και ζαχαροπλαστικής. Κάθε
συνταγή είναι συνταγή μαγειρικής ή ζαχαροπλαστικής. Επίσης ανήκει σε μια εθνική κουζίνα1 (πχ Γαλλική,
Ιταλική) και έχει ένα επίπεδο δυσκολίας (πχ πολύ εύκολο =1 εύκολο =2 , μέτριο = 3, δύσκολο=4, πολύ
δύσκολο = 5).

Κάθε συνταγή έχει ένα όνομα, σύντομη περιγραφή και ανήκει σε μία ή περισσότερες μορφές γεύματος
(πχ πρωινό, πρόγευμα, γεύμα, απογευματινό, δείπνο). Ο διαγωνισμός επίσης θα ήθελε κάθε συνταγή να
κατηγοριοποιείται μέσω και πρόσθετων, απεριόριστων, ετικετών για μορφή/ τύπο γεύματος (πχ brunch,
quick-lunch, κρύο πιάτο κτλ) και ενδεχομένως να έχει έως 3 χρηστικές συμβουλές – tips (πχ διατηρείται
στο ψυγείο για έως 3 ημέρες).

Η εκτέλεση μιας συνταγής απαιτεί συγκεκριμένο εξοπλισμό/ εξαρτήματα (πχ μπολ, κόσκινο, μπλέντερ,
σύρμα) ανεξάρτητα από ποσότητες (πχ 3 μπλέντερ). Κάθε εξάρτημα/εξοπλισμός έχει οδηγίες χρήσης (πχ
το σύρμα το χρησιμοποιούμε όταν θέλουμε να δώσουμε σε ένα μείγμα όγκο).

Ο συνολικός χρόνος που απαιτείται για την εκτέλεση μιας συνταγής αναλύεται σε χρόνο προετοιμασίας
και χρόνο μαγειρέματος. Κάθε συνταγή αποτελείται από 1 ή περισσότερα βήματα, τα οποία πρέπει να
εκτελεστούν σειριακά. Κάθε βήμα περιγράφει τι πρέπει να κάνει ο μάγειρας (πχ σε ένα μπολ, βάζουμε
τα αυγά και τα χτυπάμε με σύρμα). Αφού εκτελεστούν όλα τα βήματα θα προκύψουν συγκεκριμένες
ποσότητες (πχ 2 μερίδες).

Η κάθε συνταγή απαιτεί συγκεκριμένα υλικά σε ποσότητες, σαφώς ή λιγότερο σαφώς ορισμένες (πχ 100
γρ. τυρί φέτα, 2 αυγά, 1 κουτ λάδι, λίγο πιπέρι, λίγο αλεύρι). Τα υλικά που χρησιμοποιούνται στις
συνταγές (τρόφιμα) ομαδοποιούνται σε Ομάδες τροφίμων. Για τις ομάδες τροφίμων μπορείτε να
χρησιμοποιήσετε είτε τον Εθνικό Κώδικα Τροφίμων και Ποτών2
- ή από το Ινστιτούτο Προληπτικής,
Περιβαλλοντικής και Εργασιακής Ιατρικής.
Η κάθε ομάδα τροφίμων έχει όνομα και περιγραφή.

Κάθε συνταγή έχει ένα μόνο υλικό που χαρακτηρίζεται ως βασικό. Κάθε συνταγή, χαρακτηρίζεται με
βάση το βασικό υλικό της (πχ αν το βασικό υλικό ανήκει στην ομάδα τροφίμων ‘Διάφορα τρόφιμα
1 https://el.wikipedia.org/wiki/Κατηγορία:Εθνικές κουζίνες
2 12 κατηγορίες (πχ Λίπη και έλαια, Γλυκαντικές ύλες, Κρέας) https://el.wikipedia.org/wiki/Τρόφιμο
3 10 κατηγορίες (πχ λαχανικά, όσπρια) http://www.diatrofikoiodigoi.gr/?Page=omades-trofimon-subφυτικής προέλευσης’ 
τότε η συνταγή χαρακτηρίζεται χορτοφαγική, αν είναι το βασικό υλικό στην
κατηγορία ΄Ψάρια και προϊόντα τους΄ τότε η συνταγή χαρακτηρίζεται θαλασσινά).

Κάθε συνταγή μπορεί να έχει διατροφικές πληροφορίες. Αυτές είναι γραμμάρια λίπους ανά μερίδα,
γραμμάρια πρωτεΐνης ανά μερίδα, γραμμάρια υδατανθράκων ανά μερίδα και αριθμός θερμίδων ανά
μερίδα. Οι θερμίδες κάθε μερίδας θα πρέπει να υπολογίζονται δυναμικά με βάση τις επιμέρους θερμίδες
και αναλογίες των συστατικών, καθώς τα υλικά/ τρόφιμα έχουν συγκεκριμένο αριθμό θερμίδων4 ανά
100 γρ ή ml (πχ φράουλες 24 θερμίδες / 100 γρ).

Ο διαγωνισμός ομαδοποιεί, με δικά του κριτήρια, τις συνταγές σε θεματικές ενότητες (πχ συνταγές του
χωρίου, ριζότο συνταγές, πασχαλινά γλυκά). Κάθε συνταγή μπορεί να ενταχθεί σε μία ή παραπάνω από
μια τέτοιες ενότητες. Κάθε ενότητα έχει όνομα (πχ πασχαλινά γλυκά ) και περιγραφή (πχ πασχαλινά
γλυκά ιδανικά για το Πασχαλινό τραπέζι).

Κάθε συνταγή έχει έναν ή περισσότερους μάγειρες οι οποίοι μπορούν να εκτελέσουν μια συνταγή. Ο
κάθε μάγειρας έχει όνομα, επώνυμο, τηλ επικοινωνίας, ημερομηνία γέννησης, ηλικία, χρόνια
επαγγελματικής εμπειρίας και εξειδίκευση σε μία η περισσότερες εθνικές κουζίνες. Επίσης διαθέτει
χαρακτηρισμό επαγγελματική κατάρτισης ως εξής: Γ΄ μάγειρας, Β΄ μάγειρας, Α΄ μάγειρας, βοηθός
αρχιμάγειρα, αρχιμάγειρας (σεφ).

Ο διαγωνισμός διαδραματίζεται ετησίως σε 10 επεισόδια/ επαναλήψεις. Σε κάθε επεισόδιο επιλέγονται
αυτόματα, με τυχαίο τρόπο, από το σύστημα, 10 εθνικές κουζίνες, 10 μάγειρες αντιπρόσωποι από κάθε
κουζίνα, 3 μάγειρες κριτές και 1 συνταγή από κάθε εθνική κουζίνα που ανατίθεται σε 1 μάγειρα. (Δεν
μπορεί κάποιος μάγειρας/κριτής/ εθνική κουζίνα/ συνταγή να συμμετέχει συνεχόμενα σε περισσότερα
από 3 επεισόδια. Επίσης στον κάθε μάγειρα που συμμετέχει στον διαγωνισμό θα πρέπει να ανατεθεί η
συνταγή που καλείται να εκτελέσει.)

Ο κάθε μάγειρας εκτελεί την συνταγή που του ανατέθηκε και βαθμολογείται από τους 3 κριτές, με βάση
ακέραια αριθμητική κλίμακα 1...5. Ο μάγειρας που θα συγκεντρώσει την υψηλότερη βαθμολογία είναι ο
νικητής. Σε περίπτωση ισοβαθμίας, νικητής είναι ο μάγειρας με την υψηλότερη επαγγελματική
κατάρτιση. Σε περίπτωση νέας ισοβαθμίας, ο νικητής ανακηρύσσεται τυχαία.

Όλες οι οντότητες που αποθηκεύονται στην εφαρμογή σας θα πρέπει να συνοδεύονται από αντίστοιχες
εικόνες (πχ εικόνες για ομάδες τροφίμων, ενότητες/ συνταγές/ υλικά/ μάγειρες/ επεισόδια, εικόνες για
εξοπλισμό/ εξαρτήματα κτλ.). Κάθε εικόνα θα πρέπει να έχει και λεκτική περιγραφή του τι απεικονίζει
(πχ Smoothie πρωτεΐνης με μπανάνα).


• Χρήστες Εφαρμογής: Για κάθε χρήστη, το σύστημα πρέπει να εξακριβώνει την ταυτότητά του κατά
την πρόσβαση στην εφαρμογή (μέσω username / password).

o Διαχειριστής: Καταχωρίζει και τροποποιεί όλα τα απαιτούμενα στοιχεία. Μπορεί να
δημιουργήσει αντίγραφο ασφαλείας για όλη τη βάση (backup) και να επαναφέρει το σύστημα
από αυτό (restore).

o Μάγειρας: Οι μάγειρες έχουν τη δυνατότητα να επεξεργαστούν όλα τα στοιχεία των συνταγών
που τους έχουν ανατεθεί και επίσης να προσθέσουν νέα συνταγή. Επίσης μπορούν να
επεξεργαστούν τα προσωπικά τους στοιχεία. Δεν μπορούν να τροποποιήσουν άλλα στοιχεία του
συστήματος πχ συνταγές που δεν έχουν ανατεθεί σε αυτούς.

Οι προδιαγραφές των δεδομένων/ πληροφοριών καθώς και των αναφορών ενδεχόμενα να μην έχουν
καθοριστεί επαρκώς από τον διαγωνισμό. Για λόγους πληρότητας της εργασίας σας θα πρέπει
καταγράψετε λεπτομερώς τις προδιαγραφές του συστήματος καθώς επίσης και τις υποθέσεις σας.

Θα πρέπει να εισάγετε στην ΒΔ πληροφορίες για κάθε μία από τις οντότητες. Στην ΒΔ θα πρέπει να
υπάρχουν αρκετά δεδομένα ώστε να εκτελούνται με επιτυχία όλα τα ζητούμενα ερωτήματα και να
επιστρέφουν την κατάλληλη πληροφορία. Αν η εκτέλεση ενός ερωτήματος δεν επιστρέφει δεδομένα τότε
το αντίστοιχο ερώτημα δεν θα βαθμολογείται. Ενδεικτικά, θα πρέπει να υπάρχουν περισσότερα από 50
συνταγές, 100 υλικά, 50 μάγειρες, 50 επεισόδια. Μπορείτε να αντλήσετε πληροφορίες για συνταγές από
το https://www.airtable.com/universe/expHZcS7kWEyq5gUH/recipe-database

========================================================================================================
1. (10%) Να σχεδιάσετε το ER διάγραμμα που προκύπτει από την παραπάνω περιγραφή.

2. (20%) Να σχεδιάσετε το σχεσιακό διάγραμμα και να αναπτύξετε την ΒΔ.

2.1. (5%) Να ορίσετε όλους τους απαραίτητους περιορισμούς που θα εξασφαλίζουν την ορθότητα
της ΒΔ. Αυτοί είναι περιορισμοί ακεραιότητας, κλειδιά, αναφορική ακεραιότητα, ακεραιότητα
πεδίου τιμών και περιορισμοί οριζόμενοι από τον χρήστη.

2.2. (5%) Να ορίσετε κατάλληλα ευρετήρια (indexes) για τους πίνακες της ΒΔ και να δικαιολογήσετε
την επιλογή σας με βάση την χρησιμότητα τους για τα ερωτήματα στα οποία χρησιμοποιούνται.

3. Μέσα από την εφαρμογή θα μπορεί ένας χρήστης να εκτελέσει και να δει τα αποτελέσματα για τα
ακόλουθα ερωτήματα: (60% - τα ερωτήματα είναι ισόβαθμα)

3.1. Μέσος Όρος Αξιολογήσεων (σκορ) ανά μάγειρα και Εθνική κουζίνα.

3.2. Για δεδομένη Εθνική κουζίνα και έτος, ποιοι μάγειρες ανήκουν σε αυτήν και ποιοι μάγειρες
συμμετείχαν σε επεισόδια;

3.3. Βρείτε τους νέους μάγειρες (ηλικία < 30 ετών) που έχουν τις περισσότερες συνταγές.

3.4. Βρείτε τους μάγειρες που δεν έχουν συμμετάσχει ποτέ σε ως κριτές σε κάποιο επεισόδιο.

3.5. Ποιοι κριτές έχουν συμμετάσχει στον ίδιο αριθμό επεισοδίων σε διάστημα ενός έτους με
περισσότερες από 3 εμφανίσεις;

3.6. Πολλές συνταγές καλύπτουν περισσότερες από μια ετικέτες. Ανάμεσα σε ζεύγη πεδίων (π.χ.
brunch και κρύο πιάτο) που είναι κοινά στις συνταγές, βρείτε τα 3 κορυφαία (top-3) ζεύγη που
εμφανίστηκαν σε επεισόδια6 Για το ερώτημα αυτό η απάντηση σας θα πρέπει να περιλαμβάνει
εκτός από το ερώτημα (query), εναλλακτικό Query Plan (πχ με force index), τα αντίστοιχα traces
και τα συμπεράσματα σας από την μελέτη αυτών.

3.7. Βρείτε όλους τους μάγειρες που συμμετείχαν τουλάχιστον 5 λιγότερες φορές από τον μάγειρα
με τις περισσότερες συμμετοχές σε επεισόδια.

3.8. Σε ποιο επεισόδιο χρησιμοποιήθηκαν τα περισσότερα εξαρτήματα (εξοπλισμός); Ομοίως με
ερώτημα 3.6, η απάντηση σας θα πρέπει να περιλαμβάνει εκτός από το ερώτημα (query),
εναλλακτικό Query Plan (πχ με force index), τα αντίστοιχα traces και τα συμπεράσματα σας από
την μελέτη αυτών.

3.9. Λίστα με μέσο όρο αριθμού γραμμάριων υδατανθράκων στο διαγωνισμό ανά έτος;
6https://mariadb.com/kb/en/index-hints-how-to-force-query-plans/, https://mariadb.com/kb/en/optimizer-trace-
guide/

3.10. Ποιες Εθνικές κουζίνες έχουν τον ίδιο αριθμό συμμετοχών σε διαγωνισμούς, σε διάστημα δύο
συνεχόμενων ετών, με τουλάχιστον 3 συμμετοχές ετησίως

3.11. Βρείτε τους top-5 κριτές που έχουν δώσει συνολικά την υψηλότερη βαθμολόγηση σε ένα
μάγειρα. (όνομα κριτή, όνομα μάγειρα και συνολικό σκορ βαθμολόγησης)

3.12. Ποιο ήταν το πιο τεχνικά δύσκολο, από πλευράς συνταγών, επεισόδιο του διαγωνισμού ανά
έτος;

3.13. Ποιο επεισόδιο συγκέντρωσε τον χαμηλότερο βαθμό επαγγελματικής κατάρτισης (κριτές και μάγειρες); 

3.14. Ποια θεματική ενότητα έχει εμφανιστεί τις περισσότερες φορές στο διαγωνισμό; 3.15. Ποιες ομάδες τροφίμων δεν έχουν εμφανιστεί ποτέ στον διαγωνισμό;
